var s={INIT:"antetype.init",CLOSE:"antetype.close",DRAW:"antetype.draw",CALC:"antetype.calc",RECALC_FINISHED:"antetype.recalc.finished",MODULES:"antetype.modules",SETTINGS:"antetype.settings.definition",TYPE_DEFINITION:"antetype.layer.type.definition",FONTS_LOADED:"antetype.font.loaded"},d=class{#e;#t=null;static inject={minstrel:"boardmeister/minstrel",herald:"boardmeister/herald"};inject(t){this.#e=t}async#r(t,e){let r=this.#e.minstrel.getResourceUrl(this,"core.js");return this.#t=(await import(r)).default,this.#t({canvas:e,modules:t,herald:this.#e.herald})}async register(t){let{modules:e,canvas:r}=t.detail;e.core=await this.#r(e,r)}static subscriptions={[s.MODULES]:"register"}};var n=(e=>(e.CALC="antetype.workspace.calc",e))(n||{}),i=class{#e=null;#t;static inject={minstrel:"boardmeister/minstrel",herald:"boardmeister/herald"};inject(e){this.#t=e}async register(e){let{modules:r,canvas:a}=e.detail;if(!this.#e){let o=this.#t.minstrel.getResourceUrl(this,"module.js");this.#e=(await import(o)).default}r.workspace=new this.#e(a,r,this.#t.herald)}static subscriptions={[s.MODULES]:"register"}},l=i,u=l;export{i as AntetypeWorkspace,n as Event,u as default};
